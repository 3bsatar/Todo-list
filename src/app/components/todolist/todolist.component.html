<div class="container">
  <h2 class="text-center">TO DO LIST</h2>

  <form (ngSubmit)="onAdd(taskform)" #taskform="ngForm" id="taskForm">
    <div class="form-group">
      <input type="text" class="form-control" id="name" ngModel name="name" placeholder="Title" required>
    </div>
    <div class="form-group">
      <input type="date" class="form-control" id="dueDate" ngModel name="dueDate" placeholder="Due Date" required>
    </div>
    <div class="form-group">
      <textarea class="form-control" id="description" ngModel name="description" rows="2" placeholder="Description"></textarea>
    </div>
    <div class="form-group">
      <label for="priority">Priority</label>
      <select class="form-control" id="priority" ngModel name="priority" required>
        <option value="Low">Low</option>
        <option value="Medium">Medium</option>
        <option value="High">High</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Add Task</button>
  </form>

  <div style="margin-top: 30px;">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Due Date</th>
          <th>Status</th>
          <th>Actions</th>
          <th>Priority</th>
        </tr>
      </thead>
      <tbody id="taskList">
        <tr *ngFor="let task of taskArray; index as i">
          <td>
            <a [routerLink]="['/task', i]">{{ task.name }}</a>
          </td>
          <td>{{ task.description }}</td>
          <td>{{ task.dueDate }}</td>
          <td>
            <button class="btn btn-info" (click)="onChangeStatus(i)">{{ task.status }}</button>
          </td>
          <td>
            <button class="btn btn-danger" (click)="onDelete(i)">Delete</button>
          </td>
          <td [ngClass]="{'priority-low': task.priority === 'Low', 'priority-medium': task.priority === 'Medium', 'priority-high': task.priority === 'High'}">
            {{ task.priority }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
